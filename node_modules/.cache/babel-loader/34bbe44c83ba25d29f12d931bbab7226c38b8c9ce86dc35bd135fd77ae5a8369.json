{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  data() {\n    const item = {\n      date: '2016-05-02',\n      name: '王小虎',\n      address: '上海市普陀区金沙江路 1518 弄'\n    };\n    return {\n      pageSize: 5,\n      total: 5,\n      tableData: Array(5).fill(item)\n    };\n  },\n  methods: {\n    page(currentPage) {\n      var _this = this;\n      axios.get('http://localhost:8088/userlist/' + (currentPage - 1) + \"/2\").then(function (resp) {\n        _this.tableData = resp.data.content;\n        _this.pageSize = resp.data.size;\n        _this.total = resp.data.totalElements;\n      });\n    },\n    showUpdate(rowId) {\n      console.log(rowId);\n      //this.$router.push('/update')//这样id就没有带过去 了\n      this.$router.push({\n        path: '/updateUser',\n        query: {\n          id: rowId\n        }\n      });\n    },\n    deleteUser(rowId) {\n      const _this = this;\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        axios.get('http://localhost:8088/deleteUser?userId=' + rowId).then(function (resp) {\n          console;\n          if (resp.data.data === 'success') {\n            console.log('delete  success....');\n            window.location.reload(); //刷新界面\n          }\n        });\n        _this.$message({\n          type: 'success',\n          message: '删除成功!'\n        });\n      }).catch(() => {\n        _this.$message({\n          type: 'info',\n          message: '已取消删除'\n        });\n      });\n    }\n  },\n  created() {\n    console.log('this:', this);\n    var _this = this;\n    // http://localhost:8080/\n    axios.get('http://localhost:8088/userlist/0/2').then(function (resp) {\n      console.log(resp);\n      console.log('axios-->this:', this);\n      //把响应的数据赋值给绑定的tableData\n      // this.tableData = resp.data  这里的this不能用\n      _this.tableData = resp.data.content;\n      _this.pageSize = resp.data.size;\n      _this.total = resp.data.totalElements;\n      console.log('resp.data.data:' + resp.data.data);\n    });\n  }\n};","map":{"version":3,"names":["axios","data","item","date","name","address","pageSize","total","tableData","Array","fill","methods","page","currentPage","_this","get","then","resp","content","size","totalElements","showUpdate","rowId","console","log","$router","push","path","query","id","deleteUser","$confirm","confirmButtonText","cancelButtonText","type","window","location","reload","$message","message","catch","created"],"sources":["src/views/UserManager.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-table :data=\"tableData\">\r\n            <el-table-column prop=\"id\" label=\"id\" width=\"140\">\r\n            </el-table-column>\r\n            <!-- <el-table-column prop=\"age\" label=\"年龄\" width=\"140\">\r\n            </el-table-column> -->\r\n            <el-table-column prop=\"username\" label=\"姓名\" width=\"120\">\r\n            </el-table-column>\r\n            <el-table-column prop=\"password\" label=\"密码\" width=\"120\">\r\n            </el-table-column>\r\n\r\n            <!--操作列-->\r\n            <el-table-column label=\"操作\" width=\"150\">\r\n                <template slot-scope=\"scope\">\r\n                    <!--scope.row 当前行-->\r\n                    <el-link type=\"warning\" size=\"mini\" @click=\"showUpdate(scope.row.id)\">编辑</el-link> | &nbsp;&nbsp;\r\n                    <el-link @click=\"deleteUser(scope.row.id)\" type=\"danger\" size=\"mini\">删除</el-link>\r\n\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <!--分页-->\r\n        <el-pagination background layout=\"prev, pager, next\" :page-size=\"pageSize\" :total=\"total\"\r\n            @current-change=\"page\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n<style>\r\n.el-header {\r\n    background-color: #B3C0D1;\r\n    color: #333;\r\n    line-height: 60px;\r\n}\r\n\r\n.el-aside {\r\n    color: #333;\r\n}\r\n</style>\r\n\r\n<script>\r\nimport axios from 'axios'\r\nexport default {\r\n    data() {\r\n        const item = {\r\n            date: '2016-05-02',\r\n            name: '王小虎',\r\n            address: '上海市普陀区金沙江路 1518 弄'\r\n        };\r\n        return {\r\n            pageSize: 5,\r\n            total: 5,\r\n            tableData: Array(5).fill(item)\r\n        }\r\n    },\r\n    methods: {\r\n        page(currentPage) {\r\n            var _this = this\r\n            axios.get('http://localhost:8088/userlist/' + (currentPage-1)+\"/2\").then(function (resp) {\r\n                _this.tableData = resp.data.content\r\n                _this.pageSize = resp.data.size\r\n                _this.total = resp.data.totalElements\r\n            })\r\n        },\r\n        showUpdate(rowId) {\r\n            console.log(rowId);\r\n            //this.$router.push('/update')//这样id就没有带过去 了\r\n            this.$router.push({\r\n                path: '/updateUser',\r\n                query: {\r\n                    id: rowId\r\n                }\r\n            })\r\n        },\r\n        deleteUser(rowId) {\r\n            const _this = this\r\n\r\n            this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n                confirmButtonText: '确定',\r\n                cancelButtonText: '取消',\r\n                type: 'warning'\r\n            }).then(() => {\r\n                axios.get('http://localhost:8088/deleteUser?userId=' + rowId).then(function (resp) {\r\n                    console    \r\n                    if (resp.data.data === 'success') {\r\n                            console.log('delete  success....')\r\n                            window.location.reload()//刷新界面\r\n                        }\r\n                    });\r\n                _this.$message({\r\n                    type: 'success',\r\n                    message: '删除成功!'\r\n                });\r\n            }).catch(() => {\r\n                _this.$message({\r\n                    type: 'info',\r\n                    message: '已取消删除'\r\n                });\r\n            });\r\n\r\n           \r\n        }\r\n    },\r\n    created() {\r\n        console.log('this:', this)\r\n        var _this = this\r\n        // http://localhost:8080/\r\n        axios.get('http://localhost:8088/userlist/0/2').then(function (resp) {\r\n            console.log(resp)\r\n            console.log('axios-->this:', this)\r\n            //把响应的数据赋值给绑定的tableData\r\n            // this.tableData = resp.data  这里的this不能用\r\n            _this.tableData = resp.data.content\r\n            _this.pageSize = resp.data.size\r\n            _this.total = resp.data.totalElements\r\n\r\n            console.log('resp.data.data:'+resp.data.data);\r\n        })\r\n    }\r\n};\r\n</script>"],"mappings":";AA0CA,OAAAA,KAAA;AACA;EACAC,KAAA;IACA,MAAAC,IAAA;MACAC,IAAA;MACAC,IAAA;MACAC,OAAA;IACA;IACA;MACAC,QAAA;MACAC,KAAA;MACAC,SAAA,EAAAC,KAAA,IAAAC,IAAA,CAAAR,IAAA;IACA;EACA;EACAS,OAAA;IACAC,KAAAC,WAAA;MACA,IAAAC,KAAA;MACAd,KAAA,CAAAe,GAAA,sCAAAF,WAAA,cAAAG,IAAA,WAAAC,IAAA;QACAH,KAAA,CAAAN,SAAA,GAAAS,IAAA,CAAAhB,IAAA,CAAAiB,OAAA;QACAJ,KAAA,CAAAR,QAAA,GAAAW,IAAA,CAAAhB,IAAA,CAAAkB,IAAA;QACAL,KAAA,CAAAP,KAAA,GAAAU,IAAA,CAAAhB,IAAA,CAAAmB,aAAA;MACA;IACA;IACAC,WAAAC,KAAA;MACAC,OAAA,CAAAC,GAAA,CAAAF,KAAA;MACA;MACA,KAAAG,OAAA,CAAAC,IAAA;QACAC,IAAA;QACAC,KAAA;UACAC,EAAA,EAAAP;QACA;MACA;IACA;IACAQ,WAAAR,KAAA;MACA,MAAAR,KAAA;MAEA,KAAAiB,QAAA;QACAC,iBAAA;QACAC,gBAAA;QACAC,IAAA;MACA,GAAAlB,IAAA;QACAhB,KAAA,CAAAe,GAAA,8CAAAO,KAAA,EAAAN,IAAA,WAAAC,IAAA;UACAM,OAAA;UACA,IAAAN,IAAA,CAAAhB,IAAA,CAAAA,IAAA;YACAsB,OAAA,CAAAC,GAAA;YACAW,MAAA,CAAAC,QAAA,CAAAC,MAAA;UACA;QACA;QACAvB,KAAA,CAAAwB,QAAA;UACAJ,IAAA;UACAK,OAAA;QACA;MACA,GAAAC,KAAA;QACA1B,KAAA,CAAAwB,QAAA;UACAJ,IAAA;UACAK,OAAA;QACA;MACA;IAGA;EACA;EACAE,QAAA;IACAlB,OAAA,CAAAC,GAAA;IACA,IAAAV,KAAA;IACA;IACAd,KAAA,CAAAe,GAAA,uCAAAC,IAAA,WAAAC,IAAA;MACAM,OAAA,CAAAC,GAAA,CAAAP,IAAA;MACAM,OAAA,CAAAC,GAAA;MACA;MACA;MACAV,KAAA,CAAAN,SAAA,GAAAS,IAAA,CAAAhB,IAAA,CAAAiB,OAAA;MACAJ,KAAA,CAAAR,QAAA,GAAAW,IAAA,CAAAhB,IAAA,CAAAkB,IAAA;MACAL,KAAA,CAAAP,KAAA,GAAAU,IAAA,CAAAhB,IAAA,CAAAmB,aAAA;MAEAG,OAAA,CAAAC,GAAA,qBAAAP,IAAA,CAAAhB,IAAA,CAAAA,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}